{% extends "base.html" %}
{% block title%}Discover and discuss music{% endblock %}

{% block content %}
<div class="main-wrapper">
  <div class="container">
    <div class="row hidden-md hidden-lg">
      <div class="col-sm-12 intro">
        <h3 class="heading">Polyphony</h3>
        <p>We bring you the most discussed music on the web right now.</p> 
        <p>Go beyond just discovering music — discuss it with music lovers just like you! <a href="#about">Learn more.</a></p>
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 col-sm-4">
        <div id="stp-container">
          <div id="stp-player">
            <div id="soundcloud-container" class="hide">
              <iframe id="soundcloud" scrolling="no" frameborder="no"></iframe>
            </div>
            <div id="youtube-container" class="hide">
              <div id="youtube"></div>
            </div>
          </div>
          <div id="stp-controls" class="text-center">
            <div class="btn-group">
              <button class="btn btn-primary btn-lg" id="stp-prev">
                <i class="fa fa-backward"></i>
              </button>
              <button class="btn btn-primary btn-lg" id="stp-play">
                <i class="fa fa-play"></i>
              </button>
              <button class="btn btn-primary btn-lg" id="stp-next">
                <i class="fa fa-forward"></i>
              </button>
            </div>
          </div>
          <div id="stp-info" class="text-center">
            <h5 class="title"></h5>
            <div class="source"></div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-sm-8">
        <div id="playlist-container">
          <div class="list-group" id="playlist">
            <!--
            {% for track in playlist %}
            <div class="list-group-item track-container" data-track-number="{{loop.index-1}}" id="track{{loop.index-1}}">
              <div class="row track">
                <div class="col-md-10 col-sm-10 col-xs-9">
                  <div class="track-title">
                    {{ track.title|truncate(50,False) }}
                  </div>
                </div>
                <div class="col-md-2 col-sm-2 col-xs-3">
                  <div class="track-length">{{ track.duration }}</div>
                </div>
              </div>
            </div>
            {% endfor %}
            -->
          </div>
        </div>
      </div>
      <div class="col-md-2 hidden-sm hidden-xs intro">
        <h3 class="heading">Polyphony</h3>
        <p>We bring you the most discussed music on the web right now.</p>
        <p>Go beyond just discovering music — discuss it with music lovers just like you! <a href="#about">Learn more.</a></p>
      </div>
    </div>
  </div>
</div>

<div class="sec-wrapper">
  <div class="container">
    <div class="row margin-20">
      <div class="col-md-5">
        <section id="about">
          <h4 class="sub-heading">What's Polyphony?</h4>
          <p>Polyphony helps you discover music that is being discussed on the web &mdash; from music blogs to social media, we bring you fresh and hot music that's not only being listened to, but actually being discussed.</p>

          <p>Enhance your music discovery experience and join the discussion now!</p>
        </section>
      </div>
      <div class="col-md-5">
        <section id="customize">
          <h4 class="sub-heading">Make it your own.</h4>
          <p>Pick and choose sources to customize your playlist.</p>
          <p>Include music from (more sources coming soon):</p>
          <form id="source-prefs-form">
            <ul class="list-unstyled">
              {% for data_source in data_sources %}
              <li>
                <input name="data_source" value="{{ data_source.key.id() }}" id="{{ data_source.key.id() }}" type="checkbox" checked>
                <label for="{{ data_source.key.id() }}">{{ data_source.display_name }}</label>
                <span><a href="{{ data_source.info_link }}">(more info)</a></span>
              </li>
              {% endfor %}
            </ul>
            <button id="source-prefs-submit" type="submit" class="btn btn-primary btn-sm" data-loading-text="Updating <i class='fa fa-spinner fa-spin'></i>">
              Update Playlist
            </button>
          </form>
        </section>
      </div>
      <div class="col-md-2">
        <p>Made possible by:</p>
        <ul class="list-inline">
          <li><a href="http://soundcloud.com"><i class="fa fa-soundcloud fa-lg"></i></a></li>
          <li><a href="http://www.youtube.com"><i class="fa fa-youtube fa-lg"></i></a></li>
          <li><a href="http://hypem.com"><img alt="Hype Machine" src="http://static.hypem.com/images/logos/heart-100.png" height="16"></a></li>
        </ul>
        <!--
        <p>Keyboard shortcuts:</p>
        <ul class="list-inline">
          <li>Space bar - Play/Pause</li>
          <li>A - Previous song</li>
          <li>D - Next song</li>
        </ul>
        -->
      </div>
    </div>
  </div>  
</div>
{% endblock %}

